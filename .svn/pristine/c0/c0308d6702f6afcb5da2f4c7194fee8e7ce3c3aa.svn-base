<!-- load specific css/js only for this page -->
<?php if($this->viewDevice == "mobile"){ ?>
	<link rel="stylesheet" type="text/css" href="<?php echo WEB_URL; ?>css/mobile/cnc.css">
<?php }elseif($this->viewDevice == "web"){ ?>
	<link rel="stylesheet" type="text/css" href="<?php echo WEB_URL; ?>css/web/cnc.css">
<?php } ?>
	<script src="<?php echo WEB_URL; ?>js/cnc.js" type="text/javascript"></script>
	<script type="text/javascript" src="<?php echo WEB_URL; ?>js/lib/highcharts.js"></script>
	

<div class="limitWebView" ng-controller="cncControl">

	<input type="hidden" ng-init="viewDevice = '<?php echo $this->viewDevice; ?>'">
	<input type="hidden" ng-init="webPath = '<?php echo WEB_URL; ?>'">
	<input type="hidden" ng-init='cncID = <?php echo $this->cncID; ?>'>
	<input type="hidden" ng-init='gID = <?php echo $this->gID; ?>'>
	<input type="hidden" ng-init='userShowList = <?php echo $this->userDefinedShowList; ?>'>
	<input type="hidden" ng-init="getCncData();">

	<div class="cncTopBar">
		<a href="index" class="leftTop" title="{{factoryName}}"><span>{{factoryName}}</span></a><br>
		<a href="group{{gID}}" class="leftTop" title="{{groupName}}"><span>{{groupName}}</span></a>
		<!-- <a href="" class="rightTop" title="IPCAM"><span>{{groupIPCAM}}</span></a> -->
	</div>

	<div class="cncMidBar" ng-style="{'background':cncBGColor(cnc)}">
		<span class="leftTop" style="color: #000000;font-size: 15px;font-weight: 500;">{{cnc.cncName}}</span>
		<span>{{cncStatusName(cnc.cncStatus)}}</span>
		<span class="updatetime">更新時間：{{cnc.updateTime}}</span>
	</div>

	<div class="cncMid2Bar">
		<div class="imgDiv"><img ng-src="{{cnc.cncPic}}" ></div>
		<div class="cncDetailDiv">
			<ul class="CNCDetailUl">
				<li ng-repeat="info in cncInfos">
					<span class="cncTitle">{{info.name}}：</span>
					<span class="cncData">{{info.data}}</span>
				</li>
			</ul>
		</div>
	</div>
	<div class="cncHisDetailDiv">
		<ul class="TabHisData">
			<a href="javascript:;" title="{{hisData.name}}" ng-repeat="(hisName,hisData) in cncHisDatas" ng-click="tabHisClick(hisName,hisData)" ng-if="hisData.isShow">
				<li>
					<span class="tabIcon" ng-style="{'background-image':'url({{hisData.icon}})'}"></span>
					<span class="tabName">{{hisData.name}}</span>
				</li>
			</a>
			<div class="scrollBar" ng-style="{'width':scrollBarWith, 'left':scrollBarLeft, 'background':scrollBarBG}"></div>
		</ul>

		<div class="dataShow" ng-include="showDataHtml"></div>
	</div>

</div>