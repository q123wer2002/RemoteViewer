<link rel="stylesheet" type="text/css" href="<?php echo WEB_URL; ?>css/web/layoutSetting.css">
<script src="<?php echo WEB_URL; ?>js/layoutSetting.js" type="text/javascript"></script>

<div class="settingBigDiv limitWebView" ng-controller="SyntecLayoutSet">
	<!-- <a href="javascript:history.back();" title="返回" class="backLink">
		<span class="back_icon"></span>
		<span style="position: absolute;width: 150px;left: 32px;top: 0;font-size: 20px;">返回設定頁面</span>
	</a> -->
	<input type="hidden" ng-init="viewDevice = '<?php echo $this->viewDevice; ?>'">
	<input type="hidden" ng-init="InitLayoutSetting(viewDevice)">

	<div class="layoutListLeftDiv" ng-style="{'background':tagObjectAry[curtTag].color}">
		<a href="javascript:;" class="layoutTag"
		ng-repeat="(tagKey, tagValue) in tagObjectAry" 
		title="{{tagValue.tagName}}"
		ng-click="ShowLayoutItem(tagKey, tagValue, false)" 
		ng-style="{'top':tagValue.top, 'background':tagValue.color}">{{tagValue.tagName}}</a>
		
		<div ng-show="tagObjectAry['myLayout'].isShow">
			<h2>我的樣式表</h2>
			<ul class="myLayoutList">
				<a href="javascript:;" ng-repeat="layout in myLayoutList" ng-click="ViewMyLayout(viewDevice, layout)"><li>{{layout['name']}}</li></a>
			</ul>
		</div>

		<div ng-show="tagObjectAry['viewFunList'].isShow">
			<h2>功能列表</h2>
			<a href="javasscript:;" class="funListSelectorIcon" title="大圖式" ng-click="ViewFunList(viewDevice,'bigView')"><span id="squareicon"></span></a>
			<a href="javasscript:;" class="funListSelectorIcon" title="列表" ng-click="ViewFunList(viewDevice,'listView')"><span id="listicon"></span></a>
			<h4>{{ShowViewHint(isBigView)}}</h4>
			<hint style="font-size:12px;margin-top:10px;">目前元件：{{ShowSelectedComValue(viewDevice, isBigView)}}</hint>
			<a href="javascript:;" title="移除元素" ng-show="ShowSelectedComValue(viewDevice, isBigView)!='' " ng-click="RemoveComponent(viewDevice, isBigView)"><span class="deleteIcon"></span></a>
			<ul class="FunListItemDiv myLayoutList">
				<li ng-repeat="com in canUseComponentList" ng-click="SetComponentToSelected(viewDevice, isBigView, com)">{{com.name}}<span style="position:absolute;right:10px;font-size:12px;bottom:7px;" ng-show="isBigView">{{com.bigViewSize}}</span></li>
			</ul>
		</div>

	</div>

	<div class="layoutSettingDiv">
		<h1><input class="layoutTitle" ng-model="curtLayout['name']" placeholder="樣版名稱"></h1>
		<hint>直接點擊方塊，可以進行編輯 <span style="font-size:16px;color:red;">沒字表示沒有設定</span></hint>
		<div class="listViewDiv layoutViewDiv">
			<h3 style="float:right;margin-top:30px;">列表樣版</h3>
			<ul class="listViewItems">
				<li ng-repeat="(key, value) in curtLayout['web']['listView']" ng-style="{'background':isEmptyCom('listView', value)}" ng-click="SetViewComponent(viewDevice, 'listView', key)">{{value[0]}}</li>
			</ul>
		</div>
		<div class="bigViewDiv layoutViewDiv">
			<h3 style="float:right;margin-top:30px;">大圖示樣版</h3>
			<div class="bigVIewItems">
				<div class="innerItems">
					<ul class="topItems itemsCube" ng-repeat="(viewKey,viewObj) in curtLayout['web']['bigView']">
						<li ng-repeat="(key,value) in viewObj" ng-style=objCubeStyle(value) ng-click="SetViewComponent(viewDevice, 'bigView', (viewKey+','+key))"><span class="objNametitle">{{value[0]}}</span><span class="objSizeDetail">{{value[1]}}</span></li>
						<li ng-if="isEmptyCom('bigView', viewObj)"></li>
					</ul>
				</div>
			</div>
		</div>

		<span class="errorMsg">{{errorMsg}}</span>
		<a href="javascript:;" class="saveLayoutBtn" ng-click="SaveLayout(viewDevice)">儲存樣版</a>
	</div>
</div>