<!-- load specific css/js only for this page -->
<link rel="stylesheet" type="text/css" href="<?php echo WEB_URL; ?>css/web/dashboard.css">
<script src="<?php echo WEB_URL; ?>js/dashboard.js" type="text/javascript"></script>

<div ng-controller="SyntecDashboard" style="margin-top:80px;">
	<input type="hidden" ng-init="InitDashBoardData()">

	<div class="topDiv">
		<div class="selectViewDiv">
			<span>顯示方式</span>
			<ul>
				<li ng-click="ChangeViewType(ENUMViewType['bigView'])" ng-style="{'background':ViewTypeBGColor(ENUMViewType['bigView'])}" title="大圖示"><span class="icon" id="bigView_icon"></span></li>
				<li ng-click="ChangeViewType(ENUMViewType['listView'])" ng-style="{'background':ViewTypeBGColor(ENUMViewType['listView'])}" title="列表"><span class='icon' id="list_icon"></span></li>
			</ul>
			<span>樣版選擇</span>
			<ul class="layoutUl">
				<li ng-repeat="layout in layoutList" ng-style="{'background':ViewLayouyBGColor(layout)}" ng-click="SetLayout(layout)">{{layout['name']}}</li>
			</ul>
		</div>
	</div>

	<div class="facrotyDiv" ng-repeat="f in factories">
		<h1 style="position:absolute;top:-20px;">{{f.factoryName}}</h1>
		<div class="groupListDiv" ng-style="AutoResizeWidth(f)" ng-repeat="g in f.groups">
			<h3 class="groupName">{{g.groupName}}</h3>
			<div class="statisticDiv"></div>
			
			<div class="bigViewDiv" ng-if="viewType == ENUMViewType['bigView']">
				<div class="cncBigViewUl">
					<a href="cnc{{cnc['nCNCID']}}" title="{{cnc['nCNCID']}}" ng-repeat="cnc in FindGroupCNCs(g.cncs)">
					<div class="bigVIewItems" ng-style="{'border-color':cncBGColor(cnc)}">
						<div class="innerItems" ng-style="{'background':cncBGColor(cnc)}">
							<ul class="topItems itemsCube" ng-repeat="(viewKey,viewObj) in cnc['bigView']">
								<li ng-repeat="(key,value) in viewObj" ng-style=objCubeStyle(value)>
									{{ShowHTMLObj(value)}}
									<img ng-src="{{ShowIMGSrc(value)}}" ng-if="value[3]=='filePic'" height="100%" />
								</li>
							</ul>
						</div>
					</div>
					</a>
				</div>	
			</div>

			<div class="listViewDiv" ng-if="viewType == ENUMViewType['listView']">
				<ul class="listViewItems" style="background:#A4A4A4;">
					<li ng-repeat="(key, value) in listViewTitle">{{value[0]}}</li>
				</ul>
				<a href="cnc{{cnc['nCNCID']}}" title="{{cnc['nCNCID']}}" ng-repeat="cnc in FindGroupCNCs(g.cncs)"><ul class="listViewItems" ng-style="{'background':cncBGColor(cnc)}">
					<li ng-repeat="(key, value) in cnc['listView']">
						{{ShowHTMLObj(value)}}
						<img ng-src="{{ShowIMGSrc(value)}}" ng-if="value[2]=='filePic'" height="100%" />
					</li>
				</ul></a>
			</div>
		</div>
	</div>

	<div class="bottomDiv">
		<ul>
			<li>
				<label style="color:#888888;">現在時間</label>
				<label>{{ clock  | date:'medium'}}</label>
			</li>
			<li>
				<label style="color:#888888;">目前班別</label>
				<label>A sir</label>
			</li>
		</ul>
	</div>
</div>