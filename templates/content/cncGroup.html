<!-- load specific js and css -->
<script type="text/javascript" src="<?php echo WEB_URL."js/syntec_cncGroupData.js"; ?>"></script>
<!-- var which is declared in this area can be used  -->
<input type="hidden" ng-init="initGid='<?php echo $this->gid; ?>'">
	
<div class="factoryDiv" ng-controller="SyntecCncGroup">
	<!-- get cnc data from DB -->
	<input type="hidden" ng-init="initCncOverview()">
	
	<div class="factoryTitle">
		<span class="factoryName">
			<span class="factoryIcon"></span>
			<a href="index.php">{{thisFactoryName}}</a> > 
			<a ng-href="cncGroup.php?group={{gid}}">{{thisGroupName}}</a>
		</span>
	</div>

	<div class="cncDiv">
		<select ng-model="filterCncStatus" class="selectCNCStatus">
			<option value="">--- All status ---</option> <!-- not selected / 	blank option -->
			<option ng-repeat="option in allCncStatus" value="{{option}}">
				{{option}}
			</option>
	    </select>

	    <div class="cncDiv">
	    	<ul class="cncUl" ng-if="cncs.length > 0">
	    		<a ng-href="cnc.php?cnc={{cnc.id}}" ng-repeat="cnc in cncs | filter: filterCncStatus ">
	    			<li>
	    				<!-- background setting -->
	    				<div class="light" id="alarmBG" ng-if="cnc.statusBG == 3">
	    					<span style="color:#eeeeee;">ALARM</span>
	    				</div>
	    				<div class="light" id="startBG" ng-if="cnc.statusBG == 2">
	    					<span>{{cnc.status}}<span> 
	    				</div>
	    				<div class="light" id="defaultBG" ng-if="cnc.statusBG == 1">
	    					<span>{{cnc.status}}<span>
	    				</div>

	    				<!-- data setting -->
	    				<span class="cncPic"><img src="images/cnc.jpg"></span><br>
						<span id="CNCserialNo">序號 : {{cnc.serialNo}}<br></span>
						<span class="OnlyViewOnWeb">機型 : {{cnc.machineType}}<br></span>
						<span class="OnlyViewOnWeb">版本 : {{cnc.version}}<br></span>
						<hr class="hr vertical" id="cncOverVertical">
						<span class="OnlyViewOnWeb">模式 : {{cnc.mode}}<br></span>
						<span class="OnlyViewOnWeb">EMG : {{cnc.EMG}}<br></span>
						<span class="OnlyViewOnWeb">加工檔 : {{cnc.CurProg}}<br></span>
	    				<span class="lastUpdateDate">08:05</span>

	    				<!-- OOE -->
	    				<span id="OOETitle">OOE</span>
	    				<span id="OOEData">95%</span>
	    			</li>
	    		</a>
	    	</ul>
	    	<span ng-if="cncs.length == 0">目前沒有任何控制器</span>
	    </div>

	</div>
	
</div>