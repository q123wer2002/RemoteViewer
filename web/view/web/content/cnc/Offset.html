

<div class="offsetDiv" ng-controller="cncOffset">

	<input type="hidden" ng-init="initOffset()">

	<div ng-show="fnIsShowPage(true)">
		<p class='hint' style="left:10px;top:8px;"><b>絕對輸入</b> -- 雙點擊即可編輯，按Enter完成編輯</p>
		
		<!--<a href="javascript:;" class='hint' style="right:10px;top:8px;border:1px solid #7F7F7F;padding:4px;color:#7F7F7F" ng-click="initOffset()">更新刀補磨耗</a>-->

		<div class="inputNo">
			<input type="number" class="inputDiagNo" ng-model="nOffsetIndex" ng-change="FindSpecificNo()" placeholder="輸入刀號">
		</div>

		<div style="width:100%;height:300px;overflow:auto;margin-top:50px;position:relative;">

			<table class="offsetTable">
				<tr style="background:#7F7F7F;color:#fff;">
					<td ng-repeat="title in OffsetTitles">{{title}}</td>
				</tr>
				<!-- Lathe Table -->
				<tr ng-repeat="data in GetOffsetRange()" ng-dblclick="Edit(data)" ng-if="cncInfos['MachineType']['data'] == 'Lathe'" ng-style="StyleOfSpecialIndex(data)" >
					<td style="font-size:12px;">
						<span>{{data.no}}</span>
					</td>
					<td>
						<span ng-hide="data.isEdit">{{data.wear_X}}</span>
						<input ng-model="data.wear_X" ng-show="data.isEdit" ng-enter="Save(data)" />
					</td>
					<td>
						<span ng-hide="data.isEdit">{{data.wear_Z}}</span>
						<input ng-model="data.wear_Z" ng-show="data.isEdit" ng-enter="Save(data)" />
					</td>
					<td>
						<span ng-hide="data.isEdit">{{data.wear_A}}</span>
						<input ng-model="data.wear_A" ng-show="data.isEdit" ng-enter="Save(data)" />
					</td>
					<td>
						<span ng-hide="data.isEdit">{{data.length_X}}</span>
						<input ng-model="data.length_X" ng-show="data.isEdit" ng-enter="Save(data)" />
					</td>
					<td>
						<span ng-hide="data.isEdit">{{data.length_Y}}</span>
						<input ng-model="data.length_Y" ng-show="data.isEdit" ng-enter="Save(data)" />
					</td>
					<td>
						<span ng-hide="data.isEdit">{{data.length_A}}</span>
						<input ng-model="data.length_A" ng-show="data.isEdit" ng-enter="Save(data)" />
					</td>
					<td>
						<span ng-hide="data.isEdit">{{data.tool_nose_radius}}</span>
						<input ng-model="data.tool_nose_radius" ng-show="data.isEdit" ng-enter="Save(data)" />
					</td>
					<td>
						<span ng-hide="data.isEdit">{{data.tool_nose_r_wear}}</span>
						<input ng-model="data.tool_nose_r_wear" ng-show="data.isEdit" ng-enter="Save(data)" />
					</td>
					<td>
						<span ng-hide="data.isEdit">{{data.tool_nose}}</span>
						<input ng-model="data.tool_nose" ng-show="data.isEdit" ng-enter="Save(data)" />
					</td>
					<!-- <td>
						<span class="btnSave" ng-show="data.isEdit" ng-click="Save(data)">修改</span>
					</td>-->
				</tr>
				<!-- Mill table -->
				<tr ng-repeat="data in GetOffsetRange()" ng-dblclick="Edit(data)" ng-if="cncInfos['MachineType']['data'] == 'Mill'" ng-style="StyleOfSpecialIndex(data)" >
					<td style="font-size:12px;">
						<span>{{data.no}}</span>
					</td>
					<td>
						<span ng-hide="data.isEdit">{{data.radius_geom}}</span>
						<input ng-model="data.radius_geom" ng-show="data.isEdit" ng-enter="Save(data)" />
					</td>
					<td>
						<span ng-hide="data.isEdit">{{data.radius_wear}}</span>
						<input ng-model="data.radius_wear" ng-show="data.isEdit" ng-enter="Save(data)" />
					</td>
					<td>
						<span ng-hide="data.isEdit">{{data.length_geom}}</span>
						<input ng-model="data.length_geom" ng-show="data.isEdit" ng-enter="Save(data)" />
					</td>
					<td>
						<span ng-hide="data.isEdit">{{data.length_wear}}</span>
						<input ng-model="data.length_wear" ng-show="data.isEdit" ng-enter="Save(data)" />
					</td>
					<!-- <td>
						<span class="btnSave" ng-show="data.isEdit" ng-click="Save(data)">修改</span>
					</td>-->
				</tr>
			</table>

			<div class="arrowDiv">
				<a href="javascript:;" title="上一頁" ng-click="PrePage()" ng-show="isExistPrePage()">
					<span class="arrowIcon" id="preIcon"></span>
				</a>
				
				<a href="javascript:;" title="下一頁" ng-click="NextPage()" ng-show="isExistNextPage()">
					<span class="arrowIcon"></span>
				</a>
			</div>
		</div>
	</div>
	<div class="ErrorMsg" ng-show="fnIsShowPage(false)" ng-style="{'color':'#888888'}" ng-click="fnDownloadAgentFile()" >Agent_{{$root.szSupportVersion['API']}}_{{$root.szSupportVersion['AGENT']}}才可以支援</div>

	<div class="infoBG" ng-style="HintStyle()"><a href="javascript:;" style="color:#fff;position:absolute;top:-15px;right:50px;font-size:15px;" ng-click="hint=''">關閉</a>{{hint}} {{nListenResultTimes}}</div>

</div>